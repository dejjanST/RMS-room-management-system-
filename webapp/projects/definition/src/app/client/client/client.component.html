<form [formGroup]="form" (ngSubmit)="save()" *ngIf="form" id="clientForm" class="flex">
<mat-card class="ved">
    <mat-toolbar color="primary">
        <mat-card-title>
            <span i18n *ngIf="clientId" vedTitle>Edit Client</span>
            <span i18n *ngIf="!clientId" vedTitle>Create Client</span>
        </mat-card-title>
    </mat-toolbar>

        <mat-card-content>

            <legend i18n>Client Details:</legend>

            <div class="fieldGroup">
                <div class="code">
                    <span matPrefix>{{ companyId }}&nbsp;</span>
                    <mat-form-field>
                        <mat-label i18n>Client Id</mat-label>
                        <input matInput formControlName="client_id" name="client_id" class="client_id">
                        <mat-error *ngIf="f.client_id.invalid && (f.client_id.dirty || f.client_id.touched)" class="alert" align="end" id="error-clientId">
                            <mat-error *ngIf="f.client_id.errors.required" id="clientIdRequired" i18n>Client Id is required
                            </mat-error>
                            <mat-error *ngIf="f.client_id.errors.pattern" id="clientIdNumber" i18n>Client Id must be number</mat-error>
                        </mat-error>
                    </mat-form-field>
                </div>

                <mat-form-field class="full-width">
                    <mat-label i18n>Name</mat-label>
                    <input matInput formControlName="name" name="name" class="clientName">
                    <mat-error *ngIf="f.name.invalid && (f.name.dirty || f.name.touched)" class="alert" align="end" id="error-clientName">
                        <mat-error *ngIf="f.name.errors.required" id="ClientNameRequired" i18n>Name is required</mat-error>
                        <mat-error *ngIf="f.name.errors.minlength" id="clientNameLength" i18n>Name must be at least 2 characters long</mat-error>
                    </mat-error>
                </mat-form-field>
            </div>



        <legend i18n>Contact Information:</legend>
        <div class="fieldGroup">

            <mat-form-field class="full-width">
                <mat-label i18n>Phone</mat-label>
                <input matInput formControlName="phone" name="phone" class="phone">
            </mat-form-field>

            <mat-form-field class="full-width">
                <mat-label i18n>Email</mat-label>
                <input type="text" matInput formControlName="email" name="email" class="email">
                <mat-error *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)" class="alert" align="end" id="error-email">
                    <mat-error *ngIf="f.email.errors.email" id="clientEmailValidation" i18n>Email is not valid</mat-error>
                </mat-error>
            </mat-form-field>
        </div>



        <legend i18n>Address:</legend>

        <mat-form-field class="full-width">
            <mat-label i18n>Address</mat-label>
            <input matInput formControlName="address" name="address" class="address">
        </mat-form-field>

        <div class="fieldGroup">
            <mat-form-field class="full-width">
                <mat-label i18n>Country</mat-label>
                <input matInput formControlName="country" name="country" class="country">
            </mat-form-field>

            <mat-form-field class="full-width">
                <mat-label i18n>City</mat-label>
                <input matInput formControlName="city" name="city" class="city">
            </mat-form-field>
        </div>


        <legend i18n>Bank Details:</legend>

            <mat-form-field class="full-width">
                <mat-label i18n>Bank Account</mat-label>
                <input matInput formControlName="bank_account" name="bank_account" class="bank_account">
            </mat-form-field>

            <div class="fieldGroup">
                <mat-form-field class="full-width">
                    <mat-label i18n>Bank Name</mat-label>
                    <input matInput formControlName="bank_name" name="bank_name" class="bank_name">
                </mat-form-field>

                <mat-form-field class="full-width">
                    <mat-label i18n>Bank Country</mat-label>
                    <input matInput formControlName="bank_country" name="bank_country" class="bank_country">
                </mat-form-field>
            </div>

            <mat-form-field class="full-width">
                <mat-label i18n>Choose a status</mat-label>
                <mat-select formControlName="status" name="status" class="status">
                    <mat-option *ngFor="let status of statuses.status | keyvalue" [value]=status.value.val id="{{ 'statusOption-' + status.value.val }}">
                        {{ status.value.label }}</mat-option>
                </mat-select>
                <mat-error *ngIf="f.status.invalid && (f.status.dirty || f.status.touched)" class="alert" align="end" id="error-status">
                    <mat-error *ngIf="f.status.errors.required" id="validateStatusRequired" i18n>Status is required
                    </mat-error>
                </mat-error>
            </mat-form-field>

        </mat-card-content>

        <mat-card-actions align="end">
            <a mat-raised-button back i18n>Cancel</a>
            <button type="submit" mat-raised-button color="primary" [disabled]="!form.valid">
                <span *ngIf="!clientId" i18n>Save</span>
                <span *ngIf="clientId" i18n>Update</span>
            </button>
        </mat-card-actions>
    </mat-card>
</form>